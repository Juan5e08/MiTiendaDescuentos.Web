@{
    ViewData["Title"] = "Inicio";
}

<div class="container-fluid p-0">
    <div class="row g-0 min-vh-100 align-items-stretch">

        <!-- LADO IZQUIERDO: IMAGEN / BANNER -->
        <div class="col-lg-8 d-none d-lg-block">
            <div class="h-100 bg-light d-flex align-items-center justify-content-center">
                <!-- Imagen ajustada para que se vea completa -->
                <img src="~/img/childs.jpg"
                     class="img-fluid"
                     style="max-width: 100%; max-height: 100%; object-fit: contain; background-color:#f5f5f5;"
                     alt="Niños en el aula" />
            </div>
        </div>

        <!-- LADO DERECHO: TARJETA DE ACCESO -->
        <div class="col-lg-4 d-flex align-items-center justify-content-center bg-light">
            <div class="w-100 px-4 px-lg-5 py-5">

                <div class="text-center mb-4">
                    <div class="mx-auto mb-3"
                         style="width: 90px; height: 90px; border-radius: 50%;
                                background: #e3f2fd; display: flex; align-items: center;
                                justify-content: center; font-size: 3rem; color: #0d6efd;">
                        👤
                    </div>
                    <h2 class="fw-semibold mb-1">Bienvenido a MEP</h2>
                    <p class="text-muted mb-0">
                        Matrículas y Educación Pública — plataforma para tutores y padres de familia.
                    </p>
                </div>

                @* Si NO está autenticado: mostrar Iniciar sesión / Registrarse *@
                @if (!User.Identity?.IsAuthenticated ?? true)
                {
                    <div class="card shadow-sm border-0">
                        <div class="card-body p-4">

                            <p class="text-muted small mb-4 text-center">
                                Inicia sesión para agendar citas, consultar requisitos y encontrar tu colegio.
                            </p>

                            <div class="d-grid mb-3">
                                <a asp-area="Identity"
                                   asp-page="/Account/Login"
                                   class="btn btn-primary btn-lg">
                                    Iniciar sesión
                                </a>
                            </div>

                            <div class="d-grid">
                                <a asp-area="Identity"
                                   asp-page="/Account/Register"
                                   class="btn btn-outline-primary">
                                    Registrarse
                                </a>
                            </div>
                        </div>
                    </div>
                }
                else
                {
                    @* Si YA está logueado, mostrar acceso directo al panel *@
                    <div class="card shadow-sm border-0">
                        <div class="card-body p-4 text-center">
                            <h5 class="fw-semibold mb-2">Hola, @User.Identity.Name</h5>
                            <p class="text-muted small mb-4">
                                Ya tienes sesión iniciada. Desde aquí puedes gestionar tus citas y consultar la información de los colegios.
                            </p>
                            <div class="d-grid">
                                <a asp-controller="Instituciones"
                                   asp-action="Index"
                                   class="btn btn-primary btn-lg">
                                    Ir al panel
                                </a>
                            </div>
                        </div>
                    </div>
                }

                <div class="mt-4 text-center text-muted small">
                    <a href="#" class="me-3">Preguntas frecuentes</a>
                    <a href="#" class="me-3">Ayuda</a>
                    <a href="#">Contáctanos</a>
                </div>
            </div>
        </div>
    </div>
</div>
